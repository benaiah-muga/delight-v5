(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[521],{2198:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/properties",function(){return s(7480)}])},7480:function(e,t,s){"use strict";s.r(t);var r=s(5893),i=s(7294),n=s(3303),l=s(1664),o=s.n(l),d=s(1163);t.default=(0,n.q)(function(e){let{user:t}=e,[s,n]=(0,i.useState)([]),[l,a]=(0,i.useState)(!0),[c,m]=(0,i.useState)(""),x=(0,d.useRouter)();(0,i.useEffect)(()=>{fetchProperties()},[]);let fetchProperties=async()=>{try{a(!0);let e=await fetch("/api/properties");if(e.ok){let t=await e.json();n(t)}}catch(e){console.error("Error fetching properties:",e)}finally{a(!1)}},handleDelete=async e=>{if(confirm("Are you sure you want to delete this property?"))try{let t=await fetch("/api/properties/".concat(e),{method:"DELETE"});if(t.ok)fetchProperties();else{let e=await t.text();alert("Error: ".concat(e))}}catch(e){console.error("Error deleting property:",e),alert("Failed to delete property")}},h=s.filter(e=>e.title.toLowerCase().includes(c.toLowerCase())||e.description.toLowerCase().includes(c.toLowerCase()));return l?(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Properties"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your property listings"})]}),(0,r.jsx)(o(),{href:"/admin/properties/new",className:"mt-4 md:mt-0 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",children:"Add New Property"})]}),(0,r.jsx)("div",{className:"bg-white shadow rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,r.jsxs)("div",{className:"relative flex-1",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),(0,r.jsx)("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Search properties...",value:c,onChange:e=>m(e.target.value)})]}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsxs)("select",{className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:[(0,r.jsx)("option",{children:"All Status"}),(0,r.jsx)("option",{children:"Active"}),(0,r.jsx)("option",{children:"Draft"}),(0,r.jsx)("option",{children:"Archived"})]}),(0,r.jsxs)("select",{className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:[(0,r.jsx)("option",{children:"All Types"}),(0,r.jsx)("option",{children:"House"}),(0,r.jsx)("option",{children:"Apartment"}),(0,r.jsx)("option",{children:"Villa"}),(0,r.jsx)("option",{children:"Land"})]})]})]})}),(0,r.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:(0,r.jsx)("ul",{className:"divide-y divide-gray-200",children:h.length>0?h.map(e=>(0,r.jsx)("li",{children:(0,r.jsxs)("div",{className:"px-4 py-4 sm:px-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0 h-16 w-16 rounded-md overflow-hidden",children:(0,r.jsx)("img",{className:"h-full w-full object-cover",src:e.image,alt:e.title})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-indigo-600",children:e.title}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:[e.bedrooms," beds • ",e.bathrooms," baths • ",e.area||"N/A"," sq ft"]})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"text-lg font-medium text-gray-900",children:e.price}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:e.status||"Active"})]})]}),(0,r.jsxs)("div",{className:"mt-2 sm:flex sm:justify-between",children:[(0,r.jsx)("div",{className:"sm:flex",children:(0,r.jsxs)("p",{className:"flex items-center text-sm text-gray-500",children:[(0,r.jsx)("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),e.location||"Location not specified"]})}),(0,r.jsx)("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:(0,r.jsxs)("p",{children:["Last updated on ",(0,r.jsx)("time",{dateTime:new Date(e.updatedAt||e.createdAt).toISOString(),children:new Date(e.updatedAt||e.createdAt).toLocaleDateString()})]})})]}),(0,r.jsxs)("div",{className:"mt-4 flex justify-end space-x-3",children:[(0,r.jsx)("button",{onClick:()=>x.push("/admin/properties/".concat(e.id)),className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"View"}),(0,r.jsx)("button",{onClick:()=>x.push("/admin/properties/".concat(e.id,"/edit")),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm leading-4 font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Edit"}),(0,r.jsx)("button",{onClick:()=>handleDelete(e.id),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm leading-4 font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Delete"})]})]})},e.id)):(0,r.jsxs)("li",{className:"px-4 py-12 text-center",children:[(0,r.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,r.jsx)("path",{vectorEffect:"non-scaling-stroke",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No properties found"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:c?"Try a different search term.":"Get started by creating a new property."}),(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsxs)(o(),{href:"/admin/properties/new",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,r.jsx)("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"New Property"]})})]})})}),h.length>0&&(0,r.jsxs)("nav",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6","aria-label":"Pagination",children:[(0,r.jsx)("div",{className:"hidden sm:block",children:(0,r.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing ",(0,r.jsx)("span",{className:"font-medium",children:"1"})," to ",(0,r.jsx)("span",{className:"font-medium",children:"10"})," of"," ",(0,r.jsx)("span",{className:"font-medium",children:h.length})," results"]})}),(0,r.jsxs)("div",{className:"flex-1 flex justify-between sm:justify-end",children:[(0,r.jsx)("button",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Previous"}),(0,r.jsx)("button",{className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Next"})]})]})]})})}},function(e){e.O(0,[303,774,888,179],function(){return e(e.s=2198)}),_N_E=e.O()}]);
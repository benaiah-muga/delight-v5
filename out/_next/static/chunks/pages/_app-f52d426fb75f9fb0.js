(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{1118:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return r(9325)}])},1205:function(e,t,r){"use strict";r.d(t,{Z:function(){return MobileSidebar}});var n=r(5893),o=r(7294),i=r(1664),s=r.n(i),l=r(1163);function MobileSidebar(e){let{isOpen:t,onClose:r}=e,i=(0,l.useRouter)(),[a,c]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{c(i.pathname.startsWith("/admin"))},[i.pathname]),(0,n.jsxs)("div",{className:"fixed inset-0 z-50 transform ".concat(t?"translate-x-0":"-translate-x-full"," \n      transition-transform duration-300 ease-in-out lg:hidden"),children:[(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:r}),(0,n.jsxs)("div",{className:"relative flex flex-col w-64 h-full bg-gray-800 text-white",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded flex items-center justify-center text-white font-bold",children:"DH"}),(0,n.jsx)("span",{className:"font-semibold",children:a?"Admin Panel":"Delight Homes"})]}),(0,n.jsx)("button",{onClick:r,className:"p-1 rounded-md text-gray-400 hover:text-white focus:outline-none",children:(0,n.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,n.jsx)("nav",{className:"flex-1 px-2 py-4 space-y-1 overflow-y-auto",children:(a?[{href:"/admin",label:"Dashboard"},{href:"/admin/properties",label:"Properties"},{href:"/admin/messages",label:"Messages"},{href:"/admin/settings",label:"Settings"},{href:"/",label:"Back to Site"}]:[{href:"/",label:"Home"},{href:"/listings",label:"Listings"},{href:"/contact",label:"Contact"},{href:"/admin/login",label:"Staff Login"}]).map(e=>(0,n.jsx)(s(),{href:e.href,className:"flex items-center px-4 py-3 text-sm font-medium rounded-md ".concat(i.pathname===e.href?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"),onClick:r,children:e.label},e.href))}),(0,n.jsx)("div",{className:"p-4 border-t border-gray-700",children:(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsxs)("div",{className:"ml-3",children:[(0,n.jsx)("p",{className:"text-sm font-medium text-white",children:a?"Admin User":"Guest User"}),(0,n.jsx)("p",{className:"text-xs font-medium text-gray-400 group-hover:text-gray-300",children:a?"Administrator":"Viewing as guest"})]})})})]})]})}},5181:function(e,t,r){"use strict";r.d(t,{Ho:function(){return AuthProvider},aC:function(){return useAuth}});var n=r(5893),o=r(7294),i=r(1163);/*! js-cookie v3.0.5 | MIT */function js_cookie_assign(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}var s=function init(e,t){function set(r,n,o){if("undefined"!=typeof document){"number"==typeof(o=js_cookie_assign({},t,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),r=encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var s in o)o[s]&&(i+="; "+s,!0!==o[s]&&(i+="="+o[s].split(";")[0]));return document.cookie=r+"="+e.write(n,r)+i}}return Object.create({set,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var r=document.cookie?document.cookie.split("; "):[],n={},o=0;o<r.length;o++){var i=r[o].split("="),s=i.slice(1).join("=");try{var l=decodeURIComponent(i[0]);if(n[l]=e.read(s,l),t===l)break}catch(e){}}return t?n[t]:n}},remove:function(e,t){set(e,"",js_cookie_assign({},t,{expires:-1}))},withAttributes:function(e){return init(this.converter,js_cookie_assign({},this.attributes,e))},withConverter:function(e){return init(js_cookie_assign({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});let l=(0,o.createContext)(),AuthProvider=e=>{let{children:t}=e,[r,a]=(0,o.useState)(null),[c,u]=(0,o.useState)(!0),d=(0,i.useRouter)();(0,o.useEffect)(()=>{let checkAuth=async()=>{try{let e=s.get("token");e&&a({id:1,name:"Demo Admin",email:"demo@delighthomes.com",role:"admin"})}catch(e){console.error("Auth error:",e)}finally{u(!1)}};checkAuth()},[]);let login=async(e,t)=>{try{if("demo@delighthomes.com"===e&&"demo123"===t)return s.set("token","demo-token",{expires:1}),a({id:1,name:"Demo Admin",email:"demo@delighthomes.com",role:"admin"}),{success:!0};return{success:!1,message:"Invalid credentials"}}catch(e){return console.error("Login error:",e),{success:!1,message:"An error occurred during login"}}},logout=async()=>{try{return s.remove("token"),a(null),d.push("/login"),{success:!0}}catch(e){return console.error("Logout error:",e),{success:!1,message:"An error occurred during logout"}}};return(0,n.jsx)(l.Provider,{value:{user:r,loading:c,login,logout,isAuthenticated:()=>!!r,hasRole:e=>(null==r?void 0:r.role)===e},children:!c&&t})},useAuth=()=>{let e=(0,o.useContext)(l);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},6521:function(e,t,r){"use strict";r.d(t,{mu:function(){return SettingsProvider},rV:function(){return useSettings}});var n=r(5893),o=r(7294);let i=(0,o.createContext)(),s={theme:"light",accentColor:"indigo",isDemoMode:!1,demoCredentials:{email:"demo@delighthomes.com",password:"demo123"}},SettingsProvider=e=>{let{children:t}=e,[r,l]=(0,o.useState)(()=>{{let e=localStorage.getItem("appSettings");return e?JSON.parse(e):s}});return(0,o.useEffect)(()=>{localStorage.setItem("appSettings",JSON.stringify(r)),document.documentElement.classList.toggle("dark","dark"===r.theme),document.documentElement.style.setProperty("--color-primary","var(--".concat(r.accentColor,"-600)")),document.documentElement.style.setProperty("--color-primary-light","var(--".concat(r.accentColor,"-500)")),document.documentElement.style.setProperty("--color-primary-dark","var(--".concat(r.accentColor,"-700)"))},[r]),(0,n.jsx)(i.Provider,{value:{...r,toggleTheme:()=>{l(e=>({...e,theme:"light"===e.theme?"dark":"light"}))},setAccentColor:e=>{l(t=>({...t,accentColor:e}))},toggleDemoMode:()=>{l(e=>({...e,isDemoMode:!e.isDemoMode}))}},children:t})},useSettings=()=>{let e=(0,o.useContext)(i);if(!e)throw Error("useSettings must be used within a SettingsProvider");return e}},7498:function(e,t){"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{PrefetchKind:function(){return r},ACTION_REFRESH:function(){return o},ACTION_NAVIGATE:function(){return i},ACTION_RESTORE:function(){return s},ACTION_SERVER_PATCH:function(){return l},ACTION_PREFETCH:function(){return a},ACTION_FAST_REFRESH:function(){return c},ACTION_SERVER_ACTION:function(){return u}});let o="refresh",i="navigate",s="restore",l="server-patch",a="prefetch",c="fast-refresh",u="server-action";(n=r||(r={})).AUTO="auto",n.FULL="full",n.TEMPORARY="temporary",("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},30:function(e,t,r){"use strict";function getDomainLocale(e,t,r,n){return!1}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getDomainLocale",{enumerable:!0,get:function(){return getDomainLocale}}),r(2866),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5170:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return v}});let n=r(8754),o=n._(r(7294)),i=r(4450),s=r(2227),l=r(4364),a=r(109),c=r(3607),u=r(1823),d=r(9031),f=r(920),m=r(30),h=r(7192),p=r(7498),g=new Set;function prefetch(e,t,r,n,o,i){if(!i&&!(0,s.isLocalURL)(t))return;if(!n.bypassPrefetchedCheck){let o=void 0!==n.locale?n.locale:"locale"in e?e.locale:void 0,i=t+"%"+r+"%"+o;if(g.has(i))return;g.add(i)}let l=i?e.prefetch(t,o):e.prefetch(t,r,n);Promise.resolve(l).catch(e=>{})}function formatStringOrUrl(e){return"string"==typeof e?e:(0,l.formatUrl)(e)}let x=o.default.forwardRef(function(e,t){let r,n;let{href:l,as:g,children:x,prefetch:v=null,passHref:b,replace:y,shallow:j,scroll:_,locale:C,onClick:k,onMouseEnter:N,onTouchStart:w,legacyBehavior:O=!1,...E}=e;r=x,O&&("string"==typeof r||"number"==typeof r)&&(r=o.default.createElement("a",null,r));let A=o.default.useContext(u.RouterContext),P=o.default.useContext(d.AppRouterContext),S=null!=A?A:P,M=!A,R=!1!==v,L=null===v?p.PrefetchKind.AUTO:p.PrefetchKind.FULL,{href:I,as:T}=o.default.useMemo(()=>{if(!A){let e=formatStringOrUrl(l);return{href:e,as:g?formatStringOrUrl(g):e}}let[e,t]=(0,i.resolveHref)(A,l,!0);return{href:e,as:g?(0,i.resolveHref)(A,g):t||e}},[A,l,g]),D=o.default.useRef(I),U=o.default.useRef(T);O&&(n=o.default.Children.only(r));let H=O?n&&"object"==typeof n&&n.ref:t,[F,B,K]=(0,f.useIntersection)({rootMargin:"200px"}),V=o.default.useCallback(e=>{(U.current!==T||D.current!==I)&&(K(),U.current=T,D.current=I),F(e),H&&("function"==typeof H?H(e):"object"==typeof H&&(H.current=e))},[T,H,I,K,F]);o.default.useEffect(()=>{S&&B&&R&&prefetch(S,I,T,{locale:C},{kind:L},M)},[T,I,B,C,R,null==A?void 0:A.locale,S,M,L]);let z={ref:V,onClick(e){O||"function"!=typeof k||k(e),O&&n.props&&"function"==typeof n.props.onClick&&n.props.onClick(e),S&&!e.defaultPrevented&&function(e,t,r,n,i,l,a,c,u,d){let{nodeName:f}=e.currentTarget,m="A"===f.toUpperCase();if(m&&(function(e){let t=e.currentTarget,r=t.getAttribute("target");return r&&"_self"!==r||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||!u&&!(0,s.isLocalURL)(r)))return;e.preventDefault();let navigate=()=>{let e=null==a||a;"beforePopState"in t?t[i?"replace":"push"](r,n,{shallow:l,locale:c,scroll:e}):t[i?"replace":"push"](n||r,{forceOptimisticNavigation:!d,scroll:e})};u?o.default.startTransition(navigate):navigate()}(e,S,I,T,y,j,_,C,M,R)},onMouseEnter(e){O||"function"!=typeof N||N(e),O&&n.props&&"function"==typeof n.props.onMouseEnter&&n.props.onMouseEnter(e),S&&(R||!M)&&prefetch(S,I,T,{locale:C,priority:!0,bypassPrefetchedCheck:!0},{kind:L},M)},onTouchStart(e){O||"function"!=typeof w||w(e),O&&n.props&&"function"==typeof n.props.onTouchStart&&n.props.onTouchStart(e),S&&(R||!M)&&prefetch(S,I,T,{locale:C,priority:!0,bypassPrefetchedCheck:!0},{kind:L},M)}};if((0,a.isAbsoluteUrl)(T))z.href=T;else if(!O||b||"a"===n.type&&!("href"in n.props)){let e=void 0!==C?C:null==A?void 0:A.locale,t=(null==A?void 0:A.isLocaleDomain)&&(0,m.getDomainLocale)(T,e,null==A?void 0:A.locales,null==A?void 0:A.domainLocales);z.href=t||(0,h.addBasePath)((0,c.addLocale)(T,e,null==A?void 0:A.defaultLocale))}return O?o.default.cloneElement(n,z):o.default.createElement("a",{...E,...z},r)}),v=x;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},920:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useIntersection",{enumerable:!0,get:function(){return useIntersection}});let n=r(7294),o=r(3436),i="function"==typeof IntersectionObserver,s=new Map,l=[];function useIntersection(e){let{rootRef:t,rootMargin:r,disabled:a}=e,c=a||!i,[u,d]=(0,n.useState)(!1),f=(0,n.useRef)(null),m=(0,n.useCallback)(e=>{f.current=e},[]);(0,n.useEffect)(()=>{if(i){if(c||u)return;let e=f.current;if(e&&e.tagName){let n=function(e,t,r){let{id:n,observer:o,elements:i}=function(e){let t;let r={root:e.root||null,margin:e.rootMargin||""},n=l.find(e=>e.root===r.root&&e.margin===r.margin);if(n&&(t=s.get(n)))return t;let o=new Map,i=new IntersectionObserver(e=>{e.forEach(e=>{let t=o.get(e.target),r=e.isIntersecting||e.intersectionRatio>0;t&&r&&t(r)})},e);return t={id:r,observer:i,elements:o},l.push(r),s.set(r,t),t}(r);return i.set(e,t),o.observe(e),function(){if(i.delete(e),o.unobserve(e),0===i.size){o.disconnect(),s.delete(n);let e=l.findIndex(e=>e.root===n.root&&e.margin===n.margin);e>-1&&l.splice(e,1)}}}(e,e=>e&&d(e),{root:null==t?void 0:t.current,rootMargin:r});return n}}else if(!u){let e=(0,o.requestIdleCallback)(()=>d(!0));return()=>(0,o.cancelIdleCallback)(e)}},[c,r,t,u,f.current]);let h=(0,n.useCallback)(()=>{d(!1)},[]);return[m,u,h]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9325:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return _app}});var n=r(5893);r(415);var o=r(5181),i=r(6521),s=r(7294),l=r(1664),a=r.n(l),c=r(1205);function Header(e){let{user:t}=e,[r,o]=(0,s.useState)(!1);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("header",{className:"bg-white shadow-sm",children:(0,n.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,n.jsxs)("div",{className:"flex justify-between h-16",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsxs)("button",{type:"button",className:"inline-flex items-center justify-center p-2 rounded-md text-gray-500 hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500 lg:hidden",onClick:()=>o(!0),children:[(0,n.jsx)("span",{className:"sr-only",children:"Open main menu"}),(0,n.jsx)("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})]}),(0,n.jsx)("div",{className:"flex-shrink-0 flex items-center",children:(0,n.jsxs)(a(),{href:"/",className:"flex items-center",children:[(0,n.jsx)("div",{className:"w-10 h-10 bg-blue-600 text-white rounded flex items-center justify-center font-bold mr-3",children:"DH"}),(0,n.jsxs)("div",{className:"hidden sm:block",children:[(0,n.jsx)("div",{className:"text-lg font-semibold text-gray-800",children:"Delight Homes Limited"}),(0,n.jsx)("div",{className:"text-xs text-gray-500",children:"Real estate • Kampala"})]})]})})]}),(0,n.jsxs)("nav",{className:"hidden lg:flex items-center space-x-8",children:[(0,n.jsx)(a(),{href:"/",className:"text-gray-600 hover:text-gray-900 transition-colors font-medium",children:"Home"}),(0,n.jsx)(a(),{href:"/listings",className:"text-gray-600 hover:text-gray-900 transition-colors font-medium",children:"Listings"}),(0,n.jsx)(a(),{href:"/contact",className:"text-gray-600 hover:text-gray-900 transition-colors font-medium",children:"Contact"}),(0,n.jsx)(a(),{href:"/admin/login",className:"text-gray-600 hover:text-gray-900 transition-colors font-medium bg-gray-100 hover:bg-gray-200 px-4 py-2 rounded-md",children:"Staff Login"})]})]})})}),(0,n.jsx)(c.Z,{isOpen:r,onClose:()=>o(!1)})]})}var _app=function(e){let{Component:t,pageProps:r}=e;return(0,n.jsx)(i.mu,{children:(0,n.jsxs)(o.Ho,{children:[(0,n.jsx)(Header,{}),(0,n.jsx)(t,{...r})]})})}},415:function(){},1664:function(e,t,r){e.exports=r(5170)},1163:function(e,t,r){e.exports=r(9974)}},function(e){var __webpack_exec__=function(t){return e(e.s=t)};e.O(0,[774,179],function(){return __webpack_exec__(1118),__webpack_exec__(9974)}),_N_E=e.O()}]);